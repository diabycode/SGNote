{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}
    <title>students/marks</title>
{% endblock %}


{% block body_content %}
    <h3>Notes des Ã©tudiants</h3>

    <form action="#" method="GET">

        {% render_field form.faculty hx-get="/marks_and_results/module_dropdown/" hx-trigger="change" hx-target="#id_module" %}
        {% render_field form.module hx-get="/marks_and_results/lesson_dropdown/" hx-trigger="change" hx-target="#id_lesson" %}
        {% render_field form.lesson %}
        {% render_field form.academic_year hx-get="/marks_and_results/semester_dropdown/" hx-trigger="change" hx-target="#id_semester" %}
        {% render_field form.semester %}

        <input type="submit" value="valider">
    </form>

    {% if marks %}
        <table border=".5px" id="students_marks">
            {% for mark in marks %}
                <tr>
                    <td> {{ mark.student }} </td>
                    {% for m in mark.mark_types %}
                        <td> {{ m }} </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
    {% endif %}

{% endblock %}
